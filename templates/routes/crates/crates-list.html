{% extends "base.html" %}
{% import "macros/toc.html" as toc %}
{% import "macros/crate_table.html" as crate_table %}
{% block title %}Crate List{% endblock title %}

{% block head %}
  {{ super() }}
  <style type="text/css">
    .important { color: #336699; }
  </style>
{% endblock head %}

{% block main %}

<div class="hflex">

  <!-- Table of contents -->
  {{ toc::left_sidebar(sections=toc_sections) }}

  <!-- Main page content -->
  <div id="content">

<!--     <p class="introduction">
      Many programming langauges (such as Python and Go) take a "kitchen sink" approach to their standard libraries, including functionality
      like regular expressions, random number generation, serialization (JSON, XML, etc), and HTTP clients and servers directly in the stdlib.
    </p> -->

    <h3>What is blessed.rs?</h3>
    <p class="introduction">
      The standard library in Rust is much smaller than in Python or Go, for example. Those
      languages come with "batteries included" support for things like HTTP(S), JSON, timezones,
      random numbers, and async IO. Rust, on the other hand, gets things like that from the
      <a href="https://crates.io">crates.io</a> ecosystem and the Cargo package manager. But with
      almost 100&nbsp;thousand crates to choose from, a common complaint from new Rust developers is
      that they don't know where to start, which crates they ought to use, and which crates they
      ought to trust. This list attempts to answer those questions.
    </p>

    <p class="introduction">
      See also <a href="https://lib.rs">lib.rs</a> which takes a more automated approach (ordering crates by number of downloads) and also has an excellent search function.
    </p>

    {% for group in crate_groups %}
    <section data-toc-section id="section-{{ group.slug }}">
      <h3>{{ group.name }}</h3>
      <p class="group-description">{% if group.description %}{{ group.description | safe }}{% endif %}</p>

      {% if group.purposes %}
        {{ crate_table::crate_table(purposes=group.purposes) }}
      {% endif %}

      {% for subgroup in group.subgroups %}
        <section data-toc-section id="section-{{ group.slug }}-subsection-{{ subgroup.slug }}">
          <h4>{{ subgroup.name }}</h4>
          <p class="group-description">{% if subgroup.description %}{{ subgroup.description | safe }}{% endif %}</p>
          {{ crate_table::crate_table(purposes=subgroup.purposes) }}
        </section>
      {% endfor %}
    </section>
    {% endfor %}
  </div>
</div>

{% endblock main %}
